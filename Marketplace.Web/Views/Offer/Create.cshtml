@model Marketplace.Web.Models.Offer.CreateOfferViewModel
@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_FormLayout.cshtml";
}

<div class="container">

    <form asp-controller="Offer" asp-action="Create" method="post" class="block-form">
        <fieldset>
            <legend class="text-center mb-5">Создать предложение</legend>

            <div class="form-group">
                <label for="game">Game</label>
                <select asp-items="@Model.Games" class="form-control" id="game" name="Game" onchange="selectFilters(value)"></select>
            </div>
            <div class="game-filters">
                @*@await Component.InvokeAsync("FilterList", "csgo")*@
            </div>

            <div class="form-group">
                <label for="header">Header</label>
                <input type="text" class="form-control" id="header" name="Header">
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <input type="text" class="form-control" id="description" name="Description">
            </div>
            <div class="form-group">
                <label for="accountLogin">Account login</label>
                <input type="text" class="form-control" id="accountLogin" name="AccountLogin">
            </div>


            <fieldset class="form-group">
                <div class="form-check">
                    <label class="form-check-label">
                        @*<input class="form-check-input" type="checkbox" checked="" id="personalAccount" name="PersonalAccount">*@
                        @Html.CheckBoxFor(m => m.PersonalAccount, new { @class = "form-check-input" })
                        Personal Account?
                    </label>
                </div>

            </fieldset>

           
            <div class="form-group">

                <label for="createdAccountDate">Account Registration Date</label>
                <div class="">

                    <input class="form-control text-box single-line" data-val="true" data-val-date="The field Дата регистрации аккаунта * must be a date." id="createdAccountDate" name="CreatedAccountDate" type="date" value="">
                    <span class="field-validation-valid text-danger" data-valmsg-for="CreatedAccountDate" data-valmsg-replace="true"></span>
                </div>
            </div>

            <fieldset class="form-group">
                <div class="form-check">
                    <label class="form-check-label">
                        @*<input class="form-check-input" type="checkbox" checked="" id="isBanned" name="IsBanned">*@
                        @Html.CheckBoxFor(m => m.IsBanned, new { @class = "form-check-input" })
                        Account is Banned?
                    </label>
                </div>

            </fieldset>

            <div class="form-group">
                <label for="url">Account Link</label>
                <input type="text" class="form-control" id="url" name="Url">
            </div>

            <div class="form-group">
                <label for="price">Price</label>
                <input type="text" class="form-control" id="price" name="Price">
            </div>


            <fieldset class="form-group">
                <div class="form-check">
                    <label class="form-check-label">
                        @*<input class="form-check-input" type="checkbox" checked="" id="sellerPaysMiddleman" name="SellerPaysMiddleman">*@
                        @*@Html.CheckBoxFor(m => m.SellerPaysMiddleman, new { @class = "form-check-input" })*@
                        I am ready to pay for Middleman
                    </label>
                </div>

            </fieldset>

            <div class="text-center">
                <button type="submit" class="btn btn-submit">Разместить</button>
            </div>

        </fieldset>
    </form>
</div>

<script>
   
    function selectFilters(g) {
        var container = $(".game-filters");      
        $.ajax({
            url: "/Offer/FilterListViewComponent",
            type: "GET",
            data: { game: g },
            success: function (data) {
                container.html(data);
            }
        });
    }
</script>
